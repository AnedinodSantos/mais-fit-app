{% load static %}

<header>
    <!-- Barra de navegação -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-success border-bottom shadow-sm mb-3">
        <div class="container">
            <!-- Ancora do logo deve levar à página home-->
            <!-- Colocar o logo no S3 -->
            <a href="{% url 'index'%}" class="navbar-brand"><img src="{% static 'img/novo-logo-mais-fit.png' %}" alt=""></a>
            <!-- Botão hamburguer para guardar o menu em telas pequenas -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Div que envolve o menu que será guardado no botão hamburguer quando em telas pequenas -->
            <div class="collapse navbar-collapse">
                <!-- Menu da direita que fiacará ao lado do logo -->
                <ul class="navbar-nav flex-grow-1">
                    <li class="nav-item">
                        <li class="nav-item">
                            <!-- Deve levar à página home -->
                            <a class="nav-link text-white" href="{% url 'index'%}">Início</a>
                        </li>
                        <li class="nav-item">
                            <!-- Deve levar à página de contato da empresa -->
                            <a class="nav-link text-white" href="#">Contato</a>
                        </li>
                    </li>
                </ul>
                <!-- Menu à esquerda que ficara junto ao carrinho -->
                {% if user.is_authenticated %}
                <div class="align-self-end">
                    <ul class="navbar-nav">
                        {% if user.is_staff %}
                        <li class="nav-item">
                            <!-- Deve levar à área do cliente -->
                            <a href="{% url 'admin:index'%}" class="nav-link text-white">Administração</a>
                        </li>
                        {% else %}
                        <li class="nav-item">
                            <!-- Deve levar à área do cliente -->
                            <a href="#" class="nav-link text-white">Área do cliente</a>
                        </li>
                        {% endif %}
                        <li class="nav-item">
                            <!-- Deve efetuar o logout -->
                            <a href="{% url 'admin:logout' %}" class="nav-link text-white">Sair</a>
                        </li>
                        <li class="nav-item" id="carrinho">
                            <span class="badge rounded-pill bg-light text-danger position-absolute ms-4 mt-0"
                                title="produto(s) no carrinho"><small id="qtdProd"></small></span>
                            <!-- Deve levar à página do carrinho -->
                            <a href="#" class="nav-link text-warning" data-btn-carrinho data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                                <i class="bi-cart" style="font-size:24px;line-height:24px;"></i>
                            </a>
                        </li>
                    </ul>
                </div>
                {% else %}
                <div class="align-self-end">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <!-- Deve levar à página de cadastro -->
                            <a href="#" class="nav-link text-white">Cadastrar</a>
                        </li>
                        <li class="nav-item">
                            <!-- Deve levar à página de login da empresa -->
                            <a href="#" class="nav-link text-white">Entrar</a>
                        </li>
                        <li class="nav-item" id="carrinho">
                            <span class="badge rounded-pill bg-light text-danger position-absolute ms-4 mt-0"
                                title="produto(s) no carrinho"><small id="qtdProd"></small></span>
                            <!-- Deve levar à página do carrinho -->
                            <a href="#" class="nav-link text-warning" data-btn-carrinho data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                                <i class="bi-cart" style="font-size:24px;line-height:24px;"></i>
                            </a>
                        </li>
                    </ul>
                </div>
                {% endif %}
            </div>
        </div>
    </nav>
</header>

<!-- offcanvas -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel" data-oc-carrinho>
    <div class="offcanvas-header">
        <h5 id="offcanvasRightLabel">Pedido <span class="bi-cash"></span></h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <h5 class="text-bg-secondary m-3" data-oc-msg></h5>
    <div class="offcanvas-body" data-oc-hidden>
        <div class="card">
            <div class="row">
                <div class="col-4">
                    <img src="" class="card-img img-kit" alt="..." data-oc-kit-img>
                </div>
                <div class="col-8">
                    <div class="card-body">
                        <h5 class="card-title" data-oc-kit-titulo></h5>
                        <p class="card-text" data-oc-kit-descr></p>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <a class="link-secondary float-start"><small>marmitas do kit</small></a>
                <p class="card-text float-end" data-oc-kit-valor></p>
            </div>
        </div>
        <hr>
        <div class="mt-3">
            <button class="btn btn-danger float-start bi-x" data-oc-btn-excluir >Excluir pedido</button>
            <button class="btn btn-success float-end bi-check" data-oc-btn-finalizar >Finalizar Pedido</button>
        </div>
    </div>
</div>